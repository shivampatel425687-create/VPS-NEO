FROM ubuntu:20.04

# Avoid interactive prompts
ENV DEBIAN_FRONTEND=noninteractive

# Install Shell In A Box
RUN apt-get update && \
    apt-get install -y shellinabox && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*

# Set root password (insecure for production!)
RUN echo 'root:root' | chpasswd

# Expose the web-based terminal port
EXPOSE 4200

# Start shellinabox in login mode
CMD ["/usr/bin/shellinaboxd", "-t", "-s", "/:LOGIN"]

# Note: "24/7 group supported" is not a valid Dockerfile instruction.
# If you want to support group access, consider configuring PAM or user/group permissions inside the container.
